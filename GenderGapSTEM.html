<!DOCTYPE html>

<head>

  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">

    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>A gender-equality paradox in STEM?</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="/" rel="canonical" />

  <!-- Feed -->
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Data Curious Full Atom Feed" />
          <link href="/feeds/data-stories.atom.xml" type="application/atom+xml" rel="alternate" title="The Data Curious Categories Atom Feed" />

  <link href="/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="/theme/css/code_blocks/monokai.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


  <link href="/GenderGapSTEM.html" rel="canonical" />

    <meta name="description" content="In countries that are more gender-equal, are women less likely to be in STEM? That's what psychologists Gijsbert Stoet, at Leeds Beckett...">

    <meta name="author" content="Alexandra">

    <meta name="tags" content="R">
    <meta name="tags" content="gender">




<!-- Open Graph -->
<meta property="og:site_name" content="The Data Curious"/>
<meta property="og:title" content="A gender-equality paradox in STEM?"/>
<meta property="og:description" content="In countries that are more gender-equal, are women less likely to be in STEM? That's what psychologists Gijsbert Stoet, at Leeds Beckett..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/GenderGapSTEM.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-10-07 00:00:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/alexandra.html">
<meta property="article:section" content="data-stories"/>
<meta property="article:tag" content="R"/>
<meta property="article:tag" content="gender"/>
<meta property="og:image" content="/images/gender_gap_cover.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "A gender-equality paradox in STEM?",
  "headline": "A gender-equality paradox in STEM?",
  "datePublished": "2018-10-07 00:00:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Alexandra",
    "url": "/author/alexandra.html"
  },
  "image": "/images/gender_gap_cover.jpg",
  "url": "/GenderGapSTEM.html",
  "description": "In countries that are more gender-equal, are women less likely to be in STEM? That's what psychologists Gijsbert Stoet, at Leeds Beckett..."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="/pages/about.html">About</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">A gender-equality paradox in STEM?</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="/author/alexandra.html">Alexandra</a>
            | <time datetime="October 07, 2018">October 07, 2018</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-image: url('/images/gender_gap_cover.jpg')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>In countries that are more gender-equal, are women less likely to be in STEM? That's what psychologists Gijsbert Stoet, at Leeds Beckett University, and David Geary, at the University of Missouri, found in their 2018 <a href="http://journals.sagepub.com/doi/abs/10.1177/0956797617741719?journalCode=pssa">study</a>. They also found that girls performed similarly to or better than boys in science in two of every three countries.</p>
<p>We will recreate their scatterplot of countries based on 1) the number of female STEM graduates and 2) the Gender Gap Index score, a measure of gender equality by the World Economic Forum. Let's also design the chart to show the countries' GDP per capita and geographical groups to see if any patterns emerge.</p>
<p><img alt="Scatterplot from the study" src="https://cdn.theatlantic.com/assets/media/img/posts/2018/02/Screen_Shot_2018_02_16_at_12.33.16_PM/d099fa13a.png"></p>
<h2>Gather the data</h2>
<p>In summary, the Gender Gap Index measures the level of gender equality across four dimensions: Economic Participation and Opportunity, Educational Attainment, Health and Survival, and Political Empowerment. The higher the score, the better a country is performing on that index.</p>
<p>Get the Index data. It's from a World Economic Forum report (in pdf!) but fortunately, it's also available in csv format, courtesy of the World Bank. The csv data was only up to 2016 when accessed but it'll do. Go to the <a href="https://tcdata360.worldbank.org/indicators/af52ebe9?country=BRA&amp;indicator=27962&amp;viz=line_chart&amp;years=2006,2016#">World Bank webpage</a> to download the data.</p>
<div class="highlight"><pre><span></span><span class="c1"># install.packages(&quot;dplyr&quot;) if not yet installed</span>
<span class="kn">library</span><span class="p">(</span>dplyr<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>tidyr<span class="p">)</span>
genderindex <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;data.csv&quot;</span><span class="p">)</span> <span class="c1"># Read in Gender Gap Index data</span>
</pre></div>


<p>Data on percentage of female STEM graduates can be found at <a href="http://data.uis.unesco.org/Index.aspx?DataSetCode=EDULIT_DS">UNESCO's data portal on education</a>. In the left tab, select <em>Completion</em> &gt; <em>Percentage of tertiary graduates</em> &gt; <em>Percentage of female graduates by field of study</em>.</p>
<p>Customise selection to <em>Percentage of graduates from Science, Technology , Engineering and Mathematics programmes in tertiary education who are female (%)</em> and load the data.</p>
<div class="highlight"><pre><span></span>femSTEM <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;EDULIT_DS_06102018112127863.csv&quot;</span><span class="p">)</span> <span class="c1"># Read in STEM percentage data. The file name will differ based on the date/time of loading.</span>
</pre></div>


<p>Data on countries' GDP per capita (current US dollars) can be found at <a href="http://api.worldbank.org/v2/en/indicator/NY.GDP.PCAP.CD?downloadformat=csv">another World Bank webpage</a></p>
<p>The link loads a zipped folder but we can use the <em>unzip</em> function.</p>
<p>The unzipped content includes some metadata files but only the main file is of interest.</p>
<div class="highlight"><pre><span></span>GDPcapita <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;API_NY.GDP.PCAP.CD_DS2_en_csv_v2_10134337.csv&quot;</span><span class="p">,</span> skip <span class="o">=</span> <span class="m">4</span><span class="p">)</span> <span class="c1"># Read in countries&#39; GDP per capita data</span>
</pre></div>


<p>For regional groupings, we will refer to the UN Statistics Division's <a href="https://unstats.un.org/unsd/methodology/m49/overview/#">methodology</a>. Click on the <em>language</em> tab of choice for options to load the data.</p>
<div class="highlight"><pre><span></span>geogrp <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;UNSD — Methodology.csv&quot;</span><span class="p">)</span> <span class="c1"># Read in regional groupings data</span>
</pre></div>


<h2>Preview and clean the data</h2>
<p>A quick look at <em>genderindex</em> shows that besides the Gender Gap Index, subindices that compose this overall index are also included in the dataset. We're only interested in countries' overall index scores so we'll create a new dataframe with the relevant subset in a series of steps.</p>
<div class="highlight"><pre><span></span>str<span class="p">(</span>genderindex<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## &#39;data.frame&#39;:    1885 obs. of  15 variables:
##  $ Country.ISO3     : Factor w/ 148 levels &quot;AGO&quot;,&quot;ALB&quot;,&quot;ARE&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Country.Name     : Factor w/ 148 levels &quot;Albania&quot;,&quot;Algeria&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
##  $ Indicator        : Factor w/ 6 levels &quot;Global Gender Gap Economic Participation and Opportunity Subindex&quot;,..: 1 1 2 2 3 3 4 4 5 5 ...
##  $ Subindicator.Type: Factor w/ 4 levels &quot;Index&quot;,&quot;Normalized Score&quot;,..: 1 3 1 3 1 3 1 3 1 3 ...
##  $ X2006            : num  0.587 69 0.779 107 0.98 ...
##  $ X2007            : num  0.585 87 0.779 119 0.98 ...
##  $ X2008            : num  0.584 87 0.778 122 0.98 ...
##  $ X2009            : num  0.583 96 0.778 127 0.98 ...
##  $ X2010            : num  0.63 76 0.785 125 0.98 ...
##  $ X2011            : num  0.594 96 0.786 126 0.98 ...
##  $ X2012            : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ X2013            : num  0.616 92 0.806 127 0.98 ...
##  $ X2014            : num  0.588 111 0.721 138 0.975 ...
##  $ X2015            : num  0.59 116 0.726 141 0.98 1 0.251 38 0.637 126 ...
##  $ X2016            : num  0.565 120 0.778 138 0.98 1 0.251 40 0.643 117 ...
</pre></div>


<div class="highlight"><pre><span></span>genderindex2 <span class="o">&lt;-</span> genderindex <span class="o">%&gt;%</span> gather<span class="p">(</span>Year<span class="p">,</span> Score<span class="p">,</span> X2006<span class="o">:</span>X2016<span class="p">)</span> <span class="o">%&gt;%</span> <span class="kp">subset</span><span class="p">(</span>Indicator <span class="o">==</span> <span class="s">&quot;Overall Global Gender Gap Index&quot;</span> <span class="o">&amp;</span> Subindicator.Type <span class="o">==</span> <span class="s">&quot;Index&quot;</span><span class="p">)</span>  <span class="c1">#Reshape the data from &#39;wide&#39; to &#39;long&#39; form and select rows that meet conditions</span>
genderindex2 <span class="o">&lt;-</span> genderindex2<span class="p">[,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Country.Name&quot;</span><span class="p">,</span> <span class="s">&quot;Country.ISO3&quot;</span><span class="p">,</span><span class="s">&quot;Year&quot;</span><span class="p">,</span><span class="s">&quot;Score&quot;</span><span class="p">)]</span> <span class="c1">#Keep only columns of interest</span>
genderindex2 <span class="o">&lt;-</span> rename<span class="p">(</span>genderindex2<span class="p">,</span> Country <span class="o">=</span> Country.Name<span class="p">,</span> Code <span class="o">=</span> Country.ISO3<span class="p">)</span> <span class="c1"># Rename  variables to keep things tidier</span>
genderindex2<span class="o">$</span>Year <span class="o">&lt;-</span> <span class="kp">sub</span><span class="p">(</span><span class="s">&quot;^.&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span>genderindex2<span class="o">$</span>Year<span class="p">)</span> <span class="c1"># Use regrex to remove the &#39;x&#39; in front of the year</span>
</pre></div>


<p>We will do the same for <em>femSTEM</em>.</p>
<div class="highlight"><pre><span></span>str<span class="p">(</span>femSTEM<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## &#39;data.frame&#39;:    369 obs. of  9 variables:
##  $ EDULIT_IND: Factor w/ 1 level &quot;FGP_5T8_F500600700&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Indicator : Factor w/ 1 level &quot;Percentage of graduates from Science, Technology , Engineering and Mathematics programmes in tertiary education&quot;| __truncated__: 1 1 1 1 1 1 1 1 1 1 ...
##  $ LOCATION  : Factor w/ 126 levels &quot;ABW&quot;,&quot;AGO&quot;,&quot;ALB&quot;,..: 9 9 9 10 10 10 13 13 13 13 ...
##  $ Country   : Factor w/ 126 levels &quot;Albania&quot;,&quot;Algeria&quot;,..: 9 9 9 10 10 10 15 15 15 15 ...
##  $ TIME      : int  2013 2014 2015 2014 2015 2016 2012 2013 2014 2015 ...
##  $ Time      : int  2013 2014 2015 2014 2015 2016 2012 2013 2014 2015 ...
##  $ Value     : num  30.7 31 31.7 26.1 25.3 ...
##  $ Flag.Codes: Factor w/ 4 levels &quot;&quot;,&quot;+&quot;,&quot;a&quot;,&quot;n&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Flags     : Factor w/ 4 levels &quot;&quot;,&quot;Category not applicable&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
</pre></div>


<div class="highlight"><pre><span></span>femSTEM2 <span class="o">&lt;-</span> femSTEM<span class="p">[,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;LOCATION&quot;</span><span class="p">,</span> <span class="s">&quot;Country&quot;</span><span class="p">,</span> <span class="s">&quot;Time&quot;</span><span class="p">,</span> <span class="s">&quot;Value&quot;</span><span class="p">)]</span>
femSTEM2 <span class="o">&lt;-</span> rename<span class="p">(</span>femSTEM2<span class="p">,</span> Code <span class="o">=</span> LOCATION<span class="p">,</span> Year <span class="o">=</span> Time<span class="p">,</span> PercentageFemGrad <span class="o">=</span> Value<span class="p">)</span>
femSTEM2<span class="o">$</span>Year <span class="o">&lt;-</span> <span class="kp">as.character.Date</span><span class="p">(</span>femSTEM2<span class="o">$</span>Year<span class="p">)</span>
</pre></div>


<p>Likewise for GDPcapita...</p>
<div class="highlight"><pre><span></span>str<span class="p">(</span>GDPcapita<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## &#39;data.frame&#39;:    264 obs. of  63 variables:
##  $ Country.Name  : Factor w/ 264 levels &quot;Afghanistan&quot;,..: 11 1 6 2 5 8 250 9 10 4 ...
##  $ Country.Code  : Factor w/ 264 levels &quot;ABW&quot;,&quot;AFG&quot;,&quot;AGO&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ Indicator.Name: Factor w/ 1 level &quot;GDP per capita (current US$)&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Indicator.Code: Factor w/ 1 level &quot;NY.GDP.PCAP.CD&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ X1960         : num  NA 59.8 NA NA NA ...
##  $ X1961         : num  NA 59.9 NA NA NA ...
##  $ X1962         : num  NA 58.5 NA NA NA ...
##  $ X1963         : num  NA 78.8 NA NA NA ...
##  $ X1964         : num  NA 82.2 NA NA NA ...
##  $ X1965         : num  NA 101 NA NA NA ...
##  $ X1966         : num  NA 138 NA NA NA ...
##  $ X1967         : num  NA 161 NA NA NA ...
##  $ X1968         : num  NA 130 NA NA NA ...
##  $ X1969         : num  NA 130 NA NA NA ...
##  $ X1970         : num  NA 157 NA NA 3239 ...
##  $ X1971         : num  NA 160 NA NA 3498 ...
##  $ X1972         : num  NA 136 NA NA 4217 ...
##  $ X1973         : num  NA 144 NA NA 5342 ...
##  $ X1974         : num  NA 175 NA NA 6320 ...
##  $ X1975         : num  NA 188 NA NA 7169 ...
##  $ X1976         : num  NA 199 NA NA 7152 ...
##  $ X1977         : num  NA 226 NA NA 7751 ...
##  $ X1978         : num  NA 249 NA NA 9130 ...
##  $ X1979         : num  NA 278 NA NA 11821 ...
##  $ X1980         : num  NA 275 664 NA 12377 ...
##  $ X1981         : num  NA 266 600 NA 10372 ...
##  $ X1982         : num  NA NA 579 NA 9610 ...
##  $ X1983         : num  NA NA 582 NA 8023 ...
##  $ X1984         : num  NA NA 597 663 7729 ...
##  $ X1985         : num  NA NA 712 663 7774 ...
##  $ X1986         : num  NA NA 648 719 10362 ...
##  $ X1987         : num  NA NA 721 699 12616 ...
##  $ X1988         : num  NA NA 762 677 14304 ...
##  $ X1989         : num  NA NA 863 723 15166 ...
##  $ X1990         : num  NA NA 923 639 18879 ...
##  $ X1991         : num  NA NA 845 349 19533 ...
##  $ X1992         : num  NA NA 641 218 20548 ...
##  $ X1993         : num  NA NA 430 381 16516 ...
##  $ X1994         : num  17342 NA 321 619 16235 ...
##  $ X1995         : num  16442 NA 388 761 18461 ...
##  $ X1996         : num  16585 NA 513 1046 19017 ...
##  $ X1997         : num  17927 NA 507 750 18353 ...
##  $ X1998         : num  19081 NA 420 865 18895 ...
##  $ X1999         : num  19356 NA 386 1098 19262 ...
##  $ X2000         : num  20621 NA 555 1176 21937 ...
##  $ X2001         : num  20671 117 526 1327 22229 ...
##  $ X2002         : num  20434 188 711 1454 24741 ...
##  $ X2003         : num  20835 199 779 1891 32776 ...
##  $ X2004         : num  22568 219 1041 2417 38503 ...
##  $ X2005         : num  23303 250 1444 2709 41282 ...
##  $ X2006         : num  24015 273 2062 3005 43749 ...
##  $ X2007         : num  25921 370 2879 3603 48583 ...
##  $ X2008         : num  27547 373 3869 4371 47786 ...
##  $ X2009         : num  24631 446 3348 4114 43339 ...
##  $ X2010         : num  24272 553 3531 4094 39736 ...
##  $ X2011         : num  25325 604 4299 4437 41099 ...
##  $ X2012         : num  NA 669 4539 4248 38391 ...
##  $ X2013         : num  NA 639 4805 4413 40620 ...
##  $ X2014         : num  NA 629 4708 4579 42295 ...
##  $ X2015         : num  NA 570 3684 3953 36038 ...
##  $ X2016         : num  NA 562 3309 4132 37232 ...
##  $ X2017         : num  NA 586 4170 4538 39147 ...
##  $ X             : logi  NA NA NA NA NA NA ...
</pre></div>


<div class="highlight"><pre><span></span>GDPcapita2 <span class="o">&lt;-</span> GDPcapita <span class="o">%&gt;%</span> gather<span class="p">(</span>Year<span class="p">,</span> GDPcapitaUSD<span class="p">,</span> X1960<span class="o">:</span>X2017<span class="p">)</span> <span class="o">%&gt;%</span>  rename<span class="p">(</span>Country <span class="o">=</span> Country.Name<span class="p">,</span> Code <span class="o">=</span> Country.Code<span class="p">)</span>
GDPcapita2 <span class="o">&lt;-</span> GDPcapita2<span class="p">[,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Country&quot;</span><span class="p">,</span> <span class="s">&quot;Code&quot;</span><span class="p">,</span> <span class="s">&quot;GDPcapitaUSD&quot;</span><span class="p">,</span><span class="s">&quot;Year&quot;</span><span class="p">)]</span>
GDPcapita2<span class="o">$</span>Year <span class="o">&lt;-</span> <span class="kp">sub</span><span class="p">(</span><span class="s">&quot;^.&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span>GDPcapita2<span class="o">$</span>Year<span class="p">)</span> <span class="c1"># Use regrex to remove the &#39;x&#39; in front of the year</span>
</pre></div>


<p>...as well as for geogrp. It looks like no change is required except a little renaming for consistency.</p>
<div class="highlight"><pre><span></span>str<span class="p">(</span>geogrp<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## &#39;data.frame&#39;:    252 obs. of  15 variables:
##  $ Global.Code                            : Factor w/ 2 levels &quot;001&quot;,&quot;Developing&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Global.Name                            : Factor w/ 2 levels &quot;&quot;,&quot;World&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ Region.Code                            : int  2 2 2 2 2 2 2 2 2 2 ...
##  $ Region.Name                            : Factor w/ 6 levels &quot;&quot;,&quot;Africa&quot;,&quot;Americas&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ Sub.region.Code                        : int  15 15 15 15 15 15 15 202 202 202 ...
##  $ Sub.region.Name                        : Factor w/ 18 levels &quot;&quot;,&quot;Australia and New Zealand&quot;,..: 9 9 9 9 9 9 9 16 16 16 ...
##  $ Intermediate.Region.Code               : int  NA NA NA NA NA NA NA 14 14 14 ...
##  $ Intermediate.Region.Name               : Factor w/ 9 levels &quot;&quot;,&quot;Caribbean&quot;,..: 1 1 1 1 1 1 1 5 5 5 ...
##  $ Country.or.Area                        : Factor w/ 248 levels &quot;&quot;,&quot;Afghanistan&quot;,..: 5 69 128 149 212 226 245 34 39 52 ...
##  $ M49.Code                               : Factor w/ 250 levels &quot;&quot;,&quot;004&quot;,&quot;008&quot;,..: 5 232 124 143 209 224 210 28 34 49 ...
##  $ ISO.alpha3.Code                        : Factor w/ 249 levels &quot;&quot;,&quot;344&quot;,&quot;446&quot;,..: 68 70 130 139 194 227 72 108 22 54 ...
##  $ Least.Developed.Countries..LDC.        : Factor w/ 5 levels &quot;&quot;,&quot;BES&quot;,&quot;HKG&quot;,..: 1 1 1 1 5 1 1 1 5 5 ...
##  $ Land.Locked.Developing.Countries..LLDC.: Factor w/ 2 levels &quot;&quot;,&quot;x&quot;: 1 1 1 1 1 1 1 1 2 1 ...
##  $ Small.Island.Developing.States..SIDS.  : Factor w/ 2 levels &quot;&quot;,&quot;x&quot;: 1 1 1 1 1 1 1 1 1 2 ...
##  $ Developed...Developing.Countries       : Factor w/ 4 levels &quot;&quot;,&quot;Developed&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
</pre></div>


<div class="highlight"><pre><span></span>geogrp <span class="o">&lt;-</span> rename<span class="p">(</span>geogrp<span class="p">,</span> Code <span class="o">=</span> ISO.alpha3.Code<span class="p">)</span>
</pre></div>


<p>The latest data we downloaded on the Gender Gap Index was for 2016 so let's try to merge the datasets for that year. A check on the available data for 2016 indicate we should ideally have 85 matches. However, we only got 80 matches.</p>
<div class="highlight"><pre><span></span>femSTEM3 <span class="o">&lt;-</span> femSTEM2 <span class="o">%&gt;%</span> <span class="kp">subset</span><span class="p">(</span>Year <span class="o">==</span> <span class="s">&quot;2016&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span> na.omit<span class="p">(</span>femSTEM2<span class="p">)</span>
genderindex3 <span class="o">&lt;-</span> genderindex2 <span class="o">%&gt;%</span> <span class="kp">subset</span><span class="p">(</span>Year <span class="o">==</span> <span class="s">&quot;2016&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span> na.omit<span class="p">(</span>genderindex2<span class="p">)</span>
<span class="kp">nrow</span><span class="p">(</span>femSTEM3<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## [1] 85
</pre></div>


<div class="highlight"><pre><span></span><span class="kp">nrow</span><span class="p">(</span>genderindex3<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## [1] 144
</pre></div>


<div class="highlight"><pre><span></span>combined <span class="o">&lt;-</span> <span class="kp">merge</span><span class="p">(</span>femSTEM3<span class="p">,</span> genderindex3<span class="p">,</span> by <span class="o">=</span> <span class="s">&quot;Code&quot;</span><span class="p">)</span>
<span class="kp">nrow</span><span class="p">(</span>combined<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>## [1] 80
</pre></div>


<p>Use the <em>merge</em> function again to identify the countries that got dropped (i.e. Gender Gap Index did not have data on these countries, at least for the year 2016).</p>
<div class="highlight"><pre><span></span>test <span class="o">&lt;-</span> <span class="kp">merge</span><span class="p">(</span>femSTEM3<span class="p">,</span> combined<span class="p">,</span> by <span class="o">=</span> <span class="s">&quot;Code&quot;</span><span class="p">,</span> all.x <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
test <span class="o">&lt;-</span> <span class="kp">subset</span><span class="p">(</span>test<span class="p">,</span> <span class="kp">is.na</span><span class="p">(</span>Score<span class="p">))</span>
test<span class="o">$</span>Country
</pre></div>


<div class="highlight"><pre><span></span>## [1] Democratic Republic of the Congo          
## [2] Eritrea                                   
## [3] China, Macao Special Administrative Region
## [4] Palestine                                 
## [5] Seychelles                                
## 126 Levels: Albania Algeria Andorra Angola ... Zimbabwe
</pre></div>


<div class="highlight"><pre><span></span>GDPcapita3 <span class="o">&lt;-</span> <span class="kp">subset</span><span class="p">(</span>GDPcapita2<span class="p">,</span> Year <span class="o">==</span> <span class="s">&quot;2016&quot;</span> <span class="o">&amp;</span> <span class="o">!</span><span class="kp">is.na</span><span class="p">(</span>GDPcapitaUSD<span class="p">))</span>
combined2 <span class="o">&lt;-</span> <span class="kp">Reduce</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="kc">...</span><span class="p">)</span> <span class="kp">merge</span><span class="p">(</span><span class="kc">...</span><span class="p">,</span> by<span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Code&quot;</span><span class="p">)),</span> <span class="kt">list</span><span class="p">(</span>femSTEM3<span class="p">,</span> genderindex3<span class="p">,</span>GDPcapita3<span class="p">,</span>geogrp<span class="p">))</span> <span class="c1">#Use Reduce function to merge more than 2 dataframes simultaneously</span>
</pre></div>


<h2>Visualise the data</h2>
<p>Let's start with a basic scatterplot. This <a href="http://t-redactyl.io/blog/2016/02/creating-plots-in-r-using-ggplot2-part-6-weighted-scatterplots.html">ggplot tutorial</a> by Jodie Burchell and Mauricio Vargas Sepúlveda is a major help.</p>
<div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
p <span class="o">&lt;-</span> ggplot<span class="p">(</span>combined2<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span> PercentageFemGrad<span class="p">,</span> y <span class="o">=</span>Score<span class="p">))</span> <span class="o">+</span> geom_point<span class="p">()</span>
p
</pre></div>


<p><img alt="center" src="/images/v2_gender_gap/unnamed-chunk-13-1.png">
Let's weigh the points with the GDPcapitaUSD variable and change their shape to circles.</p>
<div class="highlight"><pre><span></span>p <span class="o">&lt;-</span> ggplot<span class="p">(</span>combined2<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span> PercentageFemGrad<span class="p">,</span> y <span class="o">=</span>Score<span class="p">,</span> size <span class="o">=</span> GDPcapitaUSD<span class="p">))</span> <span class="o">+</span> geom_point<span class="p">(</span>shape <span class="o">=</span> <span class="m">21</span><span class="p">)</span>
p
</pre></div>


<p><img alt="center" src="/images/v2_gender_gap/unnamed-chunk-14-1.png"></p>
<p>Usually it's a good idea to have both axes begin at 0. Let's see what happens if we force the origin to start at 0.</p>
<div class="highlight"><pre><span></span>test_p <span class="o">&lt;-</span> p <span class="o">+</span> expand_limits<span class="p">(</span>x <span class="o">=</span> <span class="m">0</span><span class="p">,</span> y <span class="o">=</span> <span class="m">0</span><span class="p">)</span>
test_p
</pre></div>


<p><img alt="center" src="/images/v2_gender_gap/unnamed-chunk-15-1.png"></p>
<p>It's harder to see what's going on so we'll retain the earlier 'zoomed in' version of the plot. Let's see if there's any regional trend by basing the colour fill of the circles on the <em>Sub.region.Name</em> variable.</p>
<div class="highlight"><pre><span></span>p <span class="o">&lt;-</span> ggplot<span class="p">(</span>combined2<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span> PercentageFemGrad<span class="p">,</span> y <span class="o">=</span>Score<span class="p">,</span> size <span class="o">=</span> GDPcapitaUSD<span class="p">,</span> fill <span class="o">=</span> Sub.region.Name<span class="p">))</span> <span class="o">+</span> geom_point<span class="p">(</span>shape <span class="o">=</span> <span class="m">21</span><span class="p">,</span> alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span>
<span class="c1">#Add fill according to Sub.region.Name variable and adjust transparency of circles&#39; fill</span>
p
</pre></div>


<p><img alt="center" src="/images/v2_gender_gap/unnamed-chunk-16-1.png"></p>
<p>It's not so easy to tell the regions apart so let's adjust the colours manually.</p>
<div class="highlight"><pre><span></span>fill <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Australia and New Zealand&quot;</span> <span class="o">=</span> <span class="s">&quot;#b4a8ab&quot;</span><span class="p">,</span><span class="s">&quot;Northern Africa&quot;</span> <span class="o">=</span><span class="s">&quot;#f4d16a&quot;</span><span class="p">,</span><span class="s">&quot;Sub-Saharan Africa&quot;</span> <span class="o">=</span> <span class="s">&quot;#fb7810&quot;</span><span class="p">,</span> <span class="s">&quot;Latin America and the Caribbean&quot;</span> <span class="o">=</span> <span class="s">&quot;#0ca82e&quot;</span><span class="p">,</span><span class="s">&quot;Northern America&quot;</span> <span class="o">=</span> <span class="s">&quot;#b1e632&quot;</span> <span class="p">,</span><span class="s">&quot;Eastern Europe&quot;</span> <span class="o">=</span> <span class="s">&quot;#7aa0d3&quot;</span><span class="p">,</span><span class="s">&quot;Southern Europe&quot;</span> <span class="o">=</span><span class="s">&quot;#72c8b8&quot;</span><span class="p">,</span><span class="s">&quot;Northern Europe&quot;</span> <span class="o">=</span> <span class="s">&quot;#35618f&quot;</span><span class="p">,</span> <span class="s">&quot;Western Europe&quot;</span> <span class="o">=</span><span class="s">&quot;#35c8ef&quot;</span><span class="p">,</span> <span class="s">&quot;Central Asia&quot;</span> <span class="o">=</span> <span class="s">&quot;#8a1c12&quot;</span><span class="p">,</span> <span class="s">&quot;Eastern Asia&quot;</span> <span class="o">=</span><span class="s">&quot;#8f68ff&quot;</span><span class="p">,</span> <span class="s">&quot;South-eastern Asia&quot;</span> <span class="o">=</span> <span class="s">&quot;#fd95e8&quot;</span><span class="p">,</span> <span class="s">&quot;Southern Asia&quot;</span> <span class="o">=</span> <span class="s">&quot;#e38473&quot;</span><span class="p">,</span> <span class="s">&quot;Western Asia&quot;</span> <span class="o">=</span><span class="s">&quot;#eb1241&quot;</span><span class="p">)</span>
p <span class="o">&lt;-</span> p <span class="o">+</span> scale_fill_manual<span class="p">(</span>values <span class="o">=</span> fill<span class="p">)</span>
p
</pre></div>


<p><img alt="center" src="/images/v2_gender_gap/unnamed-chunk-17-1.png"></p>
<p>For the finishing touches, we will edit the sizes, labels, and background themes.</p>
<div class="highlight"><pre><span></span>p <span class="o">&lt;-</span> ggplot<span class="p">(</span>combined2<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span> PercentageFemGrad<span class="p">,</span> y <span class="o">=</span>Score<span class="p">,</span> size <span class="o">=</span> GDPcapitaUSD<span class="p">,</span> fill <span class="o">=</span> Sub.region.Name<span class="p">))</span> <span class="o">+</span> geom_point<span class="p">(</span>shape <span class="o">=</span> <span class="m">21</span><span class="p">,</span> alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span> scale_size_continuous<span class="p">(</span>range <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10</span><span class="p">))</span> <span class="o">+</span>
  <span class="c1">#Adjusts the range of the minimum and maximum point size</span>
  geom_text<span class="p">(</span>data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>combined2<span class="p">,</span> PercentageFemGrad <span class="o">&gt;</span> <span class="m">50</span> <span class="o">|</span> Score <span class="o">&gt;</span> <span class="m">0.8</span> <span class="p">),</span> aes<span class="p">(</span>label <span class="o">=</span> Country.x<span class="p">),</span> family <span class="o">=</span> <span class="s">&quot;Georgia&quot;</span><span class="p">,</span> size <span class="o">=</span> <span class="m">2</span> <span class="p">,</span> nudge_x <span class="o">=</span> <span class="m">0.01</span><span class="p">,</span> nudge_y <span class="o">=</span> <span class="m">-0.015</span><span class="p">)</span> <span class="o">+</span>
  <span class="c1">#Labels data points for countries where percentage of female gradutes in STEM is more than 50% or score in Gender Gap index is greater than 0.8. Adjusts positions of labels.</span>
  theme_bw<span class="p">()</span> <span class="o">+</span>
  theme<span class="p">()</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;In more gender-equal countries, are women less likely to be in STEM?&quot;</span><span class="p">)</span><span class="o">+</span>
  labs<span class="p">(</span>x <span class="o">=</span> <span class="s">&quot;Percentage of women among STEM college graduates&quot;</span><span class="p">,</span> y <span class="o">=</span><span class="s">&quot;Gender Gap Index score&quot;</span><span class="p">,</span> size <span class="o">=</span> <span class="s">&quot;GDP per capita (current US$)&quot;</span><span class="p">,</span> fill <span class="o">=</span> <span class="s">&quot;Sub-regions&quot;</span><span class="p">)</span><span class="o">+</span>
  scale_fill_manual<span class="p">(</span>values <span class="o">=</span> fill<span class="p">)</span><span class="o">+</span>
    theme<span class="p">(</span>legend.position <span class="o">=</span> <span class="s">&quot;bottom&quot;</span><span class="p">,</span> legend.direction <span class="o">=</span> <span class="s">&quot;horizontal&quot;</span><span class="p">,</span>
              legend.box <span class="o">=</span> <span class="s">&quot;vertical&quot;</span><span class="p">,</span>
              legend.key.size <span class="o">=</span> unit<span class="p">(</span><span class="m">0.5</span><span class="p">,</span> <span class="s">&quot;cm&quot;</span><span class="p">),</span>
              plot.title <span class="o">=</span> element_text<span class="p">(</span>family<span class="o">=</span><span class="s">&quot;Georgia&quot;</span><span class="p">,</span> size <span class="o">=</span><span class="m">11</span><span class="p">),</span>
              text <span class="o">=</span> element_text<span class="p">(</span>family <span class="o">=</span> <span class="s">&quot;Georgia&quot;</span><span class="p">),</span>
              axis.title <span class="o">=</span> element_text<span class="p">(</span>size <span class="o">=</span> <span class="m">8</span><span class="p">),</span>
              legend.text <span class="o">=</span> element_text<span class="p">(</span>size <span class="o">=</span> <span class="m">8</span><span class="p">),</span>
              legend.title<span class="o">=</span>element_text<span class="p">(</span>face <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> size <span class="o">=</span> <span class="m">8</span><span class="p">))</span>
p
</pre></div>


<p><img alt="center" src="/images/v2_gender_gap/unnamed-chunk-18-1.png"></p>
<h2>Some observations and thoughts</h2>
<p>From the scatterplot, it's clear that Northern European countries, particularly, those in Scandinavia, gravitate towards a higher Gender Gap Index score and lower percentage of female STEM graduates while the inverse is true for West Asian countries (which include the Middle East).</p>
<p>In the study, Stoet and Geary (the authors ) state that "life-quality pressures" in less gender-equal countries may be at play for a higher proportion of female engagement with STEM, suggesting that women may simply be less interested in STEM if they have a choice. Adam Mastroianni and Dakota McCoy posted on the <a href="https://blogs.scientificamerican.com/voices/countries-with-less-gender-equity-have-more-women-in-stem-huh/">Scientific American blog</a> that they disagree. For them, the answer had to do with (discriminatory) cultural attitudes toward women in STEM.</p>
<p>I'm more inclined towards the latter view, and I think that in countries with greater gender inequality, there is less difference in the extent of cultural biases that women face being in STEM versus non-STEM. This, in turn, results in less of a barrier for women entering STEM.</p>
<p>Back to the scatterplot, here's another interesting point: While a good number of countries that perform better on the Gender Gap Index tend to be wealthier as denoted by larger bubble sizes, there are much poorer countries performing just as well. These countries are from Sub-Saharan Africa.</p>
<p>Feel free to check out my Tableau version of the scatterplot <a href="https://public.tableau.com/profile/alexandra2756#!/vizhome/Gender_gap_in_STEM/Dashboard1">here</a>.</p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=A gender-equality paradox in STEM?&amp;url=/GenderGapSTEM.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=/GenderGapSTEM.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=/GenderGapSTEM.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="/tag/r.html">R</a><a href="/tag/gender.html">gender</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="/theme/js/script.js"></script>

</body>
</html>